{"version":3,"sources":["webpack:///src/components/Cart.vue","webpack:///./src/components/Cart.vue?15c1","webpack:///./src/components/Cart.vue","webpack:///src/views/MovieInfo.vue","webpack:///./src/views/MovieInfo.vue?ef43","webpack:///./src/views/MovieInfo.vue"],"names":["Cart","name","data","isLoading","totalPrice","carts","methods","showCart","_this","this","fetch","then","response","json","total_price","deleteCart","id","_this2","method","headers","Accept","Content-Type","body","stringify_default","product_id","console","log","goShopping","jquery_default","modal","$router","push","mounted","components_Cart","render","_vm","_h","$createElement","_c","_self","attrs","active","on","update:active","$event","_v","staticClass","type","data-toggle","data-target","click","_s","length","_e","tabindex","role","aria-labelledby","aria-hidden","_m","_l","item","key","scope","product_name","product_qty","_f","product_total_price","data-dismiss","preventDefault","staticRenderFns","aria-label","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","MovieInfo","movieInfo","$route","params","img","description","price","score","time","status","addLoading","favoriteLoading","components","Navbar","Footer","addCart","qty","arguments","undefined","views_MovieInfo","src","alt"],"mappings":"uHAoGAA,GACAC,KAAA,OACAC,KAFA,WAGA,OACAC,WAAA,EACAC,WAAA,GACAC,WAGAC,SACAC,SADA,WACA,IAAAC,EAAAC,KAEAC,MADA,kFAEAC,KAAA,SAAAC,GACA,OAAAA,EAAAC,SAEAF,KAAA,SAAAC,GAEAJ,EAAAH,MAAAO,EAAAV,KACAM,EAAAJ,WAAAQ,EAAAE,YACAN,EAAAL,WAAA,KAGAY,WAdA,SAcAC,GAAA,IAAAC,EAAAR,KACAA,KAAAN,WAAA,EAEAO,MADA,kFAEAQ,OAAA,SACAC,SACAC,OAAA,mBACAC,eAAA,oBAEAC,KAAAC,KACAC,WAAAR,MAGAL,KAAA,SAAAC,GACA,OAAAA,EAAAC,SAEAF,KAAA,SAAAC,GACAa,QAAAC,IAAAd,GACAK,EAAAV,cAGAoB,WAnCA,WAoCMC,IAAN,cAAAC,MAAA,QAEApB,KAAAqB,QAAAC,KADA,cAIAC,QAlDA,WAmDAvB,KAAAF,aCpJe0B,GADEC,OAFjB,WAA0B,IAAAC,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BE,OAAOC,OAAAN,EAAAhC,WAAuBuC,IAAKC,gBAAA,SAAAC,GAAiCT,EAAAhC,UAAAyC,MAAuBT,EAAAU,GAAA,KAAAP,EAAA,OAAwBQ,YAAA,SAAmBR,EAAA,UAAeQ,YAAA,yBAAAN,OAA4CO,KAAA,SAAAC,cAAA,QAAAC,cAAA,cAAiEP,IAAKQ,MAAAf,EAAA5B,YAAsB+B,EAAA,KAAUQ,YAAA,iCAA2CX,EAAAU,GAAA,KAAAV,EAAA9B,MAAA,OAAAiC,EAAA,QAA4CQ,YAAA,kCAA4CX,EAAAU,GAAAV,EAAAgB,GAAAhB,EAAA9B,MAAA+C,WAAAjB,EAAAkB,SAAAlB,EAAAU,GAAA,KAAAV,EAAAU,GAAA,cAAAP,EAAA,OAA0FQ,YAAA,aAAAN,OAAgCxB,GAAA,YAAAsC,SAAA,KAAAC,KAAA,SAAAC,kBAAA,oBAAAC,cAAA,UAA6GnB,EAAA,OAAYQ,YAAA,eAAAN,OAAkCe,KAAA,cAAmBjB,EAAA,OAAYQ,YAAA,kBAA4BX,EAAAuB,GAAA,GAAAvB,EAAAU,GAAA,KAAAP,EAAA,OAAkCQ,YAAA,eAAyBR,EAAA,SAAcQ,YAAA,oBAA8BX,EAAAuB,GAAA,GAAAvB,EAAAU,GAAA,KAAAV,EAAAwB,GAAAxB,EAAA,eAAAyB,GAA0D,OAAAtB,EAAA,SAAmBuB,IAAAD,EAAA5C,KAAYsB,EAAA,MAAAA,EAAA,MAAoBE,OAAOsB,MAAA,SAAexB,EAAA,UAAeQ,YAAA,gCAAAJ,IAAgDQ,MAAA,SAAAN,GAAyB,OAAAT,EAAApB,WAAA6C,EAAApC,gBAAyCc,EAAA,KAAUQ,YAAA,yBAA+BX,EAAAU,GAAA,KAAAP,EAAA,MAAAH,EAAAU,GAAAV,EAAAgB,GAAAS,EAAAG,iBAAA5B,EAAAU,GAAA,KAAAP,EAAA,MAAoFQ,YAAA,eAAyBX,EAAAU,GAAAV,EAAAgB,GAAAS,EAAAI,aAAA,QAAA7B,EAAAU,GAAA,KAAAP,EAAA,MAA+DQ,YAAA,eAAyBX,EAAAU,GAAA,uBAAAV,EAAAgB,GAAAhB,EAAA8B,GAAA,WAAA9B,CAAAyB,EAAAM,sBAAA,8BAAiH/B,EAAAU,GAAA,KAAAP,EAAA,SAAAA,EAAA,MAAAA,EAAA,MAAAH,EAAAU,GAAA,KAAAP,EAAA,MAAAH,EAAAU,GAAA,KAAAP,EAAA,MAAsFQ,YAAA,eAAyBX,EAAAU,GAAA,SAAAV,EAAAU,GAAA,KAAAP,EAAA,MAAuCQ,YAAA,eAAyBX,EAAAU,GAAAV,EAAAgB,GAAAhB,EAAA8B,GAAA,WAAA9B,GAAA/B,qBAAA,KAAA+B,EAAAU,GAAA,KAAAP,EAAA,OAAuFQ,YAAA,iBAA2BR,EAAA,UAAeQ,YAAA,4BAAAN,OAA+CO,KAAA,SAAAoB,eAAA,WAAwChC,EAAAU,GAAA,oCAAAV,EAAAU,GAAA,KAAAP,EAAA,UAAsEQ,YAAA,yBAAAJ,IAAyCQ,MAAA,SAAAN,GAAiD,OAAxBA,EAAAwB,iBAAwBjC,EAAAR,WAAAiB,OAAgCT,EAAAU,GAAA,mDAElnEwB,iBADjB,WAAoC,IAAajC,EAAb3B,KAAa4B,eAA0BC,EAAvC7B,KAAuC8B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBQ,YAAA,iBAA2BR,EAAA,MAAWQ,YAAA,wBAAAN,OAA2CxB,GAAA,uBAAjKP,KAA2LoC,GAAA,qCAA3LpC,KAA2LoC,GAAA,KAAAP,EAAA,UAAuEQ,YAAA,QAAAN,OAA2BO,KAAA,SAAAoB,eAAA,QAAAG,aAAA,WAA6DhC,EAAA,QAAaE,OAAOiB,cAAA,UAA9WhD,KAAoYoC,GAAA,YAAoB,WAAc,IAAaT,EAAb3B,KAAa4B,eAA0BC,EAAvC7B,KAAuC8B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBQ,YAAA,gBAA0BR,EAAA,MAAAA,EAAA,MAAoBE,OAAOsB,MAAA,SAAvIrD,KAAsJoC,GAAA,KAAAP,EAAA,MAAuBE,OAAOsB,MAAA,SAApLrD,KAAmMoC,GAAA,UAAnMpC,KAAmMoC,GAAA,KAAAP,EAAA,MAAwCE,OAAOsB,MAAA,SAAlPrD,KAAiQoC,GAAA,UAAjQpC,KAAiQoC,GAAA,KAAAP,EAAA,MAAwCE,OAAOsB,MAAA,SAAhTrD,KAA+ToC,GAAA,eCEzwB,IAcA0B,EAdyBC,EAAQ,OAcjCC,CACEzE,EACAiC,GATF,EAVA,SAAAyC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,yJCoChCK,GACA3E,KAAA,YACAC,KAFA,WAGA,OACA2E,WACA7D,GAAAP,KAAAqE,OAAAC,OAAA/D,GACAgE,IAAAvE,KAAAqE,OAAAC,OAAAC,IACA/E,KAAAQ,KAAAqE,OAAAC,OAAA9E,KACA8C,KAAAtC,KAAAqE,OAAAC,OAAAhC,KACAkC,YAAAxE,KAAAqE,OAAAC,OAAAE,YACAC,MAAAzE,KAAAqE,OAAAC,OAAAG,MACAC,MAAA1E,KAAAqE,OAAAC,OAAAI,MACAC,KAAA3E,KAAAqE,OAAAC,OAAAK,MAEAC,QACAC,YAAA,EACAC,iBAAA,KAIAC,YACAC,SAAA,EACAC,SAAA,EACA1F,OAAA,GAEAM,SACAqF,QADA,SACA3E,GAAA,IAAAR,EAAAC,KAAAmF,EAAAC,UAAAzC,OAAA,QAAA0C,IAAAD,UAAA,GAAAA,UAAA,KACApF,KAAA4E,OAAAC,YAAA,EAEA5E,MADA,kFAEAQ,OAAA,OACAC,SACAC,OAAA,mBACAC,eAAA,oBAEAC,KAAAC,KACAC,WAAAR,EACAgD,YAAA4B,MAGAjF,KAAA,SAAAC,GACA,OAAAA,EAAAC,SAEAF,KAAA,SAAAC,GACAa,QAAAC,IAAAd,GACAJ,EAAA6E,OAAAC,YAAA,OCxGeS,GADE7D,OAFjB,WAA0B,IAAAC,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,UAAAH,EAAAU,GAAA,KAAAP,EAAA,WAAwDQ,YAAA,mBAA6BR,EAAA,OAAYQ,YAAA,mBAA6BR,EAAA,OAAYQ,YAAA,2CAAqDR,EAAA,OAAYQ,YAAA,WAAAN,OAA8BwD,IAAA7D,EAAA0C,UAAAG,IAAAiB,IAAA,QAAkC9D,EAAAU,GAAA,KAAAP,EAAA,OAA0BQ,YAAA,2DAAqER,EAAA,OAAYQ,YAAA,cAAwBR,EAAA,MAAWQ,YAAA,8BAAwCX,EAAAU,GAAA,iBAAAV,EAAAgB,GAAAhB,EAAA0C,UAAA5E,MAAA,kBAAAkC,EAAAU,GAAA,KAAAP,EAAA,KAA2FQ,YAAA,cAAwBX,EAAAU,GAAA,oCAAAP,EAAA,QAAwDQ,YAAA,uBAAiCX,EAAAU,GAAAV,EAAAgB,GAAAhB,EAAA0C,UAAA9B,WAAAZ,EAAAU,GAAA,KAAAP,EAAA,KAA6DQ,YAAA,cAAwBX,EAAAU,GAAA,uBAAAP,EAAA,QAA2CQ,YAAA,oBAA8BX,EAAAU,GAAAV,EAAAgB,GAAAhB,EAAA0C,UAAAM,YAAAhD,EAAAU,GAAA,KAAAP,EAAA,KAA8DQ,YAAA,cAAwBX,EAAAU,GAAA,sCAAAP,EAAA,QAA0DQ,YAAA,mBAA6BX,EAAAU,GAAAV,EAAAgB,GAAAhB,EAAA0C,UAAAO,WAAAjD,EAAAU,GAAA,KAAAP,EAAA,KAA6DQ,YAAA,gBAA0BX,EAAAU,GAAAV,EAAAgB,GAAAhB,EAAA0C,UAAAI,kBAAA9C,EAAAU,GAAA,KAAAP,EAAA,OAAAA,EAAA,OAAgFQ,YAAA,uCAAiDR,EAAA,OAAYQ,YAAA,eAAyBR,EAAA,MAAAH,EAAAU,GAAA,SAAAV,EAAAgB,GAAAhB,EAAA8B,GAAA,WAAA9B,GAAA0C,UAAAK,aAAA/C,EAAAU,GAAA,KAAAP,EAAA,OAAsGQ,YAAA,+BAAyCR,EAAA,QAAAH,EAAAU,GAAA,WAAAV,EAAAU,GAAA,KAAAP,EAAA,UAAAH,EAAAU,GAAAV,EAAAgB,GAAAhB,EAAA8B,GAAA,WAAA9B,GAAA0C,UAAAK,QAAA,WAAA/C,EAAAU,GAAA,KAAAP,EAAA,OAAgJQ,YAAA,8CAAwDR,EAAA,UAAeQ,YAAA,iCAAAJ,IAAiDQ,MAAA,SAAAN,GAAyB,OAAAT,EAAAwD,QAAAxD,EAAA0C,UAAA7D,QAAuCmB,EAAAkD,OAAA,WAAA/C,EAAA,KAAkCQ,YAAA,2BAAqCX,EAAAkB,KAAAlB,EAAAU,GAAA,KAAAP,EAAA,KAA+BQ,YAAA,2BAAqCX,EAAAU,GAAA,KAAAP,EAAA,QAAyBQ,YAAA,SAAmBX,EAAAU,GAAA,uBAAAV,EAAAU,GAAA,KAAAP,EAAA,UAAAH,EAAAU,GAAA,KAAAP,EAAA,aAE36D+B,oBCCjB,IAcAE,EAdyBC,EAAQ,OAcjCC,CACEG,EACAmB,GATF,EAVA,SAAArB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/2.3e99b608d07d8616a0a3.js","sourcesContent":["<template>\r\n  <div>\r\n    <!-- Button trigger modal -->\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <div class=\"cart\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btnCart text-white\"\r\n        data-toggle=\"modal\"\r\n        data-target=\"#cartModal\"\r\n        @click=\"showCart\"\r\n      >\r\n        <i class=\"fas fa-cart-arrow-down fa-3x\"></i>\r\n        <span class=\"badge badge-pill badge-danger\" v-if=\"carts.length\">{{\r\n          carts.length\r\n        }}</span>\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Modal <!-- 購物車表格 -->-->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"cartModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title cartTitle\" id=\"exampleModalLabel\">\r\n              已購買電影\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <table class=\"table movieList\">\r\n              <thead class=\"thead-light\">\r\n                <tr>\r\n                  <th scope=\"col\"></th>\r\n                  <th scope=\"col\">電影名稱</th>\r\n                  <th scope=\"col\">購買數量</th>\r\n                  <th scope=\"col\">單價</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody v-for=\"item in carts\" :key=\"item.id\">\r\n                <tr>\r\n                  <th scope=\"row\">\r\n                    <button\r\n                      class=\"btn btn-sm btn-outline-danger\"\r\n                      @click=\"deleteCart(item.product_id)\"\r\n                    >\r\n                      <i class=\"far fa-trash-alt\"></i>\r\n                    </button>\r\n                  </th>\r\n                  <td>{{ item.product_name }}</td>\r\n                  <td class=\"text-right\">{{ item.product_qty }}/部</td>\r\n                  <td class=\"text-right\">\r\n                    {{ item.product_total_price | currency }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <td></td>\r\n                  <td></td>\r\n                  <td class=\"text-right\">總金額</td>\r\n                  <td class=\"text-right\">{{ totalPrice | currency }}</td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              再看一下\r\n            </button>\r\n            <button @click.prevent=\"goShopping\" class=\"btn btn-outline-danger\">\r\n              前往購物商城\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\nexport default {\r\n  name: 'Cart',\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      totalPrice: '',\r\n      carts: [],\r\n    }\r\n  },\r\n  methods: {\r\n    showCart() {\r\n      const addCartApi = `${process.env.USERAPI}/api/v1/cart`\r\n      fetch(addCartApi)\r\n        .then(response => {\r\n          return response.json()\r\n        })\r\n        .then(response => {\r\n          // console.log(response)\r\n          this.carts = response.data\r\n          this.totalPrice = response.total_price\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    deleteCart(id) {\r\n      this.isLoading = true\r\n      const deleteCartApi = `${process.env.USERAPI}/api/v1/cart`\r\n      fetch(deleteCartApi, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          product_id: id,\r\n        }),\r\n      })\r\n        .then(response => {\r\n          return response.json()\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n          this.showCart()\r\n        })\r\n    },\r\n    goShopping() {\r\n      $('#cartModal').modal('hide')\r\n      const path = '/payment'\r\n      this.$router.push(path)\r\n    },\r\n  },\r\n  mounted() {\r\n    this.showCart()\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cartTitle {\r\n  font-weight: 700;\r\n}\r\n.cart {\r\n  position: fixed;\r\n  bottom: 30px;\r\n  right: 20px;\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n}\r\n\r\n// 右下角購物車\r\n.btnCart {\r\n  position: relative;\r\n  bottom: 20px;\r\n  right: 10px;\r\n  .badge {\r\n    position: absolute;\r\n    top: 0px;\r\n    right: 0px;\r\n    width: 25px;\r\n    height: 25px;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n\r\n.movieList {\r\n  th,\r\n  td {\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Cart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._v(\" \"),_c('div',{staticClass:\"cart\"},[_c('button',{staticClass:\"btn btnCart text-white\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#cartModal\"},on:{\"click\":_vm.showCart}},[_c('i',{staticClass:\"fas fa-cart-arrow-down fa-3x\"}),_vm._v(\" \"),(_vm.carts.length)?_c('span',{staticClass:\"badge badge-pill badge-danger\"},[_vm._v(_vm._s(_vm.carts.length))]):_vm._e()])]),_vm._v(\" \"),_vm._v(\"-->\\n  \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"cartModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('table',{staticClass:\"table movieList\"},[_vm._m(1),_vm._v(\" \"),_vm._l((_vm.carts),function(item){return _c('tbody',{key:item.id},[_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_c('button',{staticClass:\"btn btn-sm btn-outline-danger\",on:{\"click\":function($event){return _vm.deleteCart(item.product_id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.product_name))]),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(item.product_qty)+\"/部\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(\"\\n                  \"+_vm._s(_vm._f(\"currency\")(item.product_total_price))+\"\\n                \")])])])}),_vm._v(\" \"),_c('tfoot',[_c('tr',[_c('td'),_vm._v(\" \"),_c('td'),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(\"總金額\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.totalPrice)))])])])],2)]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n            再看一下\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-danger\",on:{\"click\":function($event){$event.preventDefault();return _vm.goShopping($event)}}},[_vm._v(\"\\n            前往購物商城\\n          \")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title cartTitle\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"\\n            已購買電影\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-light\"},[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}}),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"電影名稱\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"購買數量\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"單價\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6317a606\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Cart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6317a606\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Cart.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6317a606\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Cart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6317a606\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Cart.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <Navbar />\r\n    <section class=\"container mt-5\">\r\n      <div class=\"row text-white\">\r\n        <div class=\"col-md-6 d-flex justify-content-center\">\r\n          <img :src=\"movieInfo.img\" alt=\"\" class=\"movieImg\" />\r\n        </div>\r\n        <div class=\"col-md-6 d-flex flex-column justify-content-lg-between\">\r\n          <div class=\"movieInfo\">\r\n            <h2 class=\"d-flex align-items-center\">\r\n              {{ movieInfo.name }}\r\n            </h2>\r\n            <p class=\"movieText\">\r\n              類型 :\r\n              <span class=\"movieSpan category\">{{ movieInfo.type }}</span>\r\n            </p>\r\n\r\n            <p class=\"movieText\">\r\n              評分 : <span class=\"movieSpan score\">{{ movieInfo.score }}</span>\r\n            </p>\r\n            <p class=\"movieText\">\r\n              放映時數 :\r\n              <span class=\"movieSpan time\">{{ movieInfo.time }}</span>\r\n            </p>\r\n            <p class=\"description\">{{ movieInfo.description }}</p>\r\n          </div>\r\n          <!-- 價格 -->\r\n          <div>\r\n            <div class=\"d-flex flex-column align-items-end\">\r\n              <del class=\"text-white\"\r\n                ><h5>售價 NT {{ movieInfo.price | currency }}</h5></del\r\n              >\r\n              <div class=\"h3 m-0 ml-auto text-danger\">\r\n                <span>特價 NT</span>\r\n                <strong>{{ movieInfo.price | currency }} </strong>\r\n              </div>\r\n            </div>\r\n            <div class=\"mobileBtn d-flex justify-content-end mt-3\">\r\n              <button\r\n                class=\"btn btn-outline-light mr-3 p-2\"\r\n                @click=\"addCart(movieInfo.id)\"\r\n              >\r\n                <i class=\"fas fa-spinner fa-spin\" v-if=\"status.addLoading\"></i>\r\n                <i class=\"fas fa-cart-arrow-down\"></i>\r\n                <span class=\"px-1\">加入購物車</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <Footer />\r\n    <Cart />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from '@/components/Navbar'\r\nimport Footer from '@/components/Footer'\r\nimport Cart from '@/components/Cart.vue'\r\n\r\nexport default {\r\n  name: 'MovieInfo',\r\n  data() {\r\n    return {\r\n      movieInfo: {\r\n        id: this.$route.params.id,\r\n        img: this.$route.params.img,\r\n        name: this.$route.params.name,\r\n        type: this.$route.params.type,\r\n        description: this.$route.params.description,\r\n        price: this.$route.params.price,\r\n        score: this.$route.params.score,\r\n        time: this.$route.params.time,\r\n      },\r\n      status: {\r\n        addLoading: false,\r\n        favoriteLoading: false,\r\n      },\r\n    }\r\n  },\r\n  components: {\r\n    Navbar,\r\n    Footer,\r\n    Cart,\r\n  },\r\n  methods: {\r\n    addCart(id, qty = 1) {\r\n      this.status.addLoading = true\r\n      const addCartApi = `${process.env.USERAPI}/api/v1/cart`\r\n      fetch(addCartApi, {\r\n        method: 'post',\r\n        headers: {\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          product_id: id,\r\n          product_qty: qty,\r\n        }),\r\n      })\r\n        .then(response => {\r\n          return response.json()\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n          this.status.addLoading = false\r\n        })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.movieImg {\r\n  height: 500px;\r\n}\r\n\r\n.description {\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n}\r\n.movieText {\r\n  font-size: 20px;\r\n}\r\n.movieSpan {\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.category {\r\n  background: #27ae60;\r\n  font-weight: 600;\r\n}\r\n\r\n.score {\r\n  background: #e67e22;\r\n}\r\n\r\n.time {\r\n  background: #3498db;\r\n}\r\n\r\n.movieInfo {\r\n  @media (max-width: 768px) {\r\n    margin-top: 50px;\r\n  }\r\n}\r\n\r\n.mobileBtn {\r\n  @media (max-width: 1024px) {\r\n    margin-bottom: 100px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/MovieInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Navbar'),_vm._v(\" \"),_c('section',{staticClass:\"container mt-5\"},[_c('div',{staticClass:\"row text-white\"},[_c('div',{staticClass:\"col-md-6 d-flex justify-content-center\"},[_c('img',{staticClass:\"movieImg\",attrs:{\"src\":_vm.movieInfo.img,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6 d-flex flex-column justify-content-lg-between\"},[_c('div',{staticClass:\"movieInfo\"},[_c('h2',{staticClass:\"d-flex align-items-center\"},[_vm._v(\"\\n            \"+_vm._s(_vm.movieInfo.name)+\"\\n          \")]),_vm._v(\" \"),_c('p',{staticClass:\"movieText\"},[_vm._v(\"\\n            類型 :\\n            \"),_c('span',{staticClass:\"movieSpan category\"},[_vm._v(_vm._s(_vm.movieInfo.type))])]),_vm._v(\" \"),_c('p',{staticClass:\"movieText\"},[_vm._v(\"\\n            評分 : \"),_c('span',{staticClass:\"movieSpan score\"},[_vm._v(_vm._s(_vm.movieInfo.score))])]),_vm._v(\" \"),_c('p',{staticClass:\"movieText\"},[_vm._v(\"\\n            放映時數 :\\n            \"),_c('span',{staticClass:\"movieSpan time\"},[_vm._v(_vm._s(_vm.movieInfo.time))])]),_vm._v(\" \"),_c('p',{staticClass:\"description\"},[_vm._v(_vm._s(_vm.movieInfo.description))])]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"d-flex flex-column align-items-end\"},[_c('del',{staticClass:\"text-white\"},[_c('h5',[_vm._v(\"售價 NT \"+_vm._s(_vm._f(\"currency\")(_vm.movieInfo.price)))])]),_vm._v(\" \"),_c('div',{staticClass:\"h3 m-0 ml-auto text-danger\"},[_c('span',[_vm._v(\"特價 NT\")]),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.movieInfo.price))+\" \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"mobileBtn d-flex justify-content-end mt-3\"},[_c('button',{staticClass:\"btn btn-outline-light mr-3 p-2\",on:{\"click\":function($event){return _vm.addCart(_vm.movieInfo.id)}}},[(_vm.status.addLoading)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\" \"),_c('i',{staticClass:\"fas fa-cart-arrow-down\"}),_vm._v(\" \"),_c('span',{staticClass:\"px-1\"},[_vm._v(\"加入購物車\")])])])])])])]),_vm._v(\" \"),_c('Footer'),_vm._v(\" \"),_c('Cart')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73bff667\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/MovieInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-73bff667\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MovieInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MovieInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MovieInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-73bff667\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MovieInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-73bff667\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/MovieInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}