{"version":3,"sources":["webpack:///src/views/Favorite.vue","webpack:///./src/views/Favorite.vue?84b9","webpack:///./src/views/Favorite.vue"],"names":["Favorite","name","components","Navbar","Footer","data","isLoading","products","movieName","methods","getFavorite","_this","this","fetch","then","response","json","console","log","removeFavorite","id","_this2","method","headers","Accept","Content-Type","body","stringify_default","product_id","movieInfo","$router","push","mounted","views_Favorite","render","_vm","_h","$createElement","_c","_self","attrs","active","on","update:active","$event","_v","staticClass","_l","item","_s","product_type","to","params","img","image_url","product_name","type","description","price","score","movie_score","time","movie_runtime","src","alt","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wJAqDAA,GACAC,KAAA,WACAC,YACAC,SAAA,EACAC,SAAA,GAEAC,KANA,WAOA,OACAC,WAAA,EACAC,YACAC,eAGAC,SACAC,YADA,WACA,IAAAC,EAAAC,KACAA,KAAAN,WAAA,EAEAO,MADA,sFAEAC,KAAA,SAAAC,GACA,OAAAA,EAAAC,SAEAF,KAAA,SAAAC,GACAE,QAAAC,IAAAH,GACAJ,EAAAJ,SAAAQ,EAAAV,KACAM,EAAAL,WAAA,KAGAa,eAdA,SAcAC,GAAA,IAAAC,EAAAT,KACAA,KAAAN,WAAA,EAEAO,MADA,sFAEAS,OAAA,SACAC,SACAC,OAAA,mBACAC,eAAA,oBAEAC,KAAAC,KACAC,WAAAR,MAGAN,KAAA,SAAAC,GACA,OAAAA,EAAAC,SAEAF,KAAA,SAAAC,GACAE,QAAAC,IAAAH,GACAM,EAAAX,iBAGAmB,UAnCA,WAqCAjB,KAAAkB,QAAAC,KADA,oBAIAC,QArDA,WAsDApB,KAAAF,gBC5FeuB,GADEC,OAdjB,WAA0B,IAAAC,EAAAvB,KAAawB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BE,OAAOC,OAAAN,EAAA7B,WAAuBoC,IAAKC,gBAAA,SAAAC,GAAiCT,EAAA7B,UAAAsC,MAAuBT,EAAAU,GAAA,KAAAP,EAAA,UAAAH,EAAAU,GAAA,KAAAP,EAAA,WAAqDQ,YAAA,mBAA6BR,EAAA,MAAWQ,YAAA,eAAyBX,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAyCQ,YAAA,gBAA2BX,EAAAY,GAAAZ,EAAA,kBAAAa,GAAsC,OAAAV,EAAA,OAAiBQ,YAAA,2BAAqCR,EAAA,OAAYQ,YAAA,qDAA+DR,EAAA,OAAYQ,YAAA,SAAmBX,EAAAU,GAAAV,EAAAc,GAAAD,EAAAE,iBAAAf,EAAAU,GAAA,KAAAP,EAAA,eAAoEQ,YAAA,YAAAN,OAA+BW,IACtrBlD,KAAA,YACAmD,QACAhC,GAAA4B,EAAApB,WACAyB,IAAAL,EAAAM,UACArD,KAAA+C,EAAAO,aACAC,KAAAR,EAAAE,aACAO,YAAAT,EAAAS,YACAC,MAAAV,EAAAU,MACAC,MAAAX,EAAAY,YACAC,KAAAb,EAAAc,mBAEexB,EAAA,OAAYQ,YAAA,eAAAN,OAAkCuB,IAAAf,EAAAM,UAAAU,IAAA,WAAkC7B,EAAAU,GAAA,KAAAP,EAAA,OAA0BQ,YAAA,gEAA0ER,EAAA,MAAWQ,YAAA,kBAA4BX,EAAAU,GAAAV,EAAAc,GAAAD,EAAAO,mBAAApB,EAAAU,GAAA,KAAAP,EAAA,OAA8DQ,YAAA,yCAAmDR,EAAA,UAAeQ,YAAA,0CAAAJ,IAA0DuB,MAAA,SAAArB,GAAyB,OAAAT,EAAAhB,eAAA6B,EAAApB,gBAA6CU,EAAA,KAAUQ,YAAA,sBAAgCX,EAAAU,GAAA,qDAA4D,KAAAV,EAAAU,GAAA,KAAAP,EAAA,eAE/jB4B,oBCXjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErE,EACAiC,GATF,EAVA,SAAAqC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.772e68f2b5bb6377d730.js","sourcesContent":["<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <Navbar />\r\n    <section class=\"container mt-5\">\r\n      <h1 class=\"text-white\">收藏清單</h1>\r\n      <div class=\"row favorite\">\r\n        <!--  第1張 魔物獵人 劇情類-->\r\n        <div class=\"col-lg-4 col-md-6 mb-4\" v-for=\"item in products\">\r\n          <div class=\"card h-100 border-0 bg-dark text-light cardTitle\">\r\n            <div class=\"type\">{{ item.product_type }}</div>\r\n            <router-link\r\n              :to=\"{\r\n                name: 'MovieInfo',\r\n                params: {\r\n                  id: item.product_id,\r\n                  img: item.image_url,\r\n                  name: item.product_name,\r\n                  type: item.product_type,\r\n                  description: item.description,\r\n                  price: item.price,\r\n                  score: item.movie_score,\r\n                  time: item.movie_runtime,\r\n                },\r\n              }\"\r\n              class=\"thumbnail\"\r\n              ><img :src=\"item.image_url\" class=\"card-img-top\" alt=\"...\"\r\n            /></router-link>\r\n            <div\r\n              class=\"card-body d-flex justify-content-between align-items-center\"\r\n            >\r\n              <h4 class=\"m-0 movieName\">{{ item.product_name }}</h4>\r\n            </div>\r\n            <div class=\"px-2 d-flex flex-column border-white\">\r\n              <button\r\n                class=\"btn btn-outline-danger btn-sm mb-2 py-2\"\r\n                @click=\"removeFavorite(item.product_id)\"\r\n              >\r\n                <i class=\"far fa-heart px-2\"></i>\r\n                從我的最愛移除\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <Footer />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from '@/components/Navbar'\r\nimport Footer from '@/components/Footer'\r\nexport default {\r\n  name: 'Favorite',\r\n  components: {\r\n    Navbar,\r\n    Footer,\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      products: [],\r\n      movieName: [],\r\n    }\r\n  },\r\n  methods: {\r\n    getFavorite() {\r\n      this.isLoading = true\r\n      const favoriteApi = `${process.env.USERAPI}/api/v1/favorite`\r\n      fetch(favoriteApi)\r\n        .then(response => {\r\n          return response.json()\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n          this.products = response.data\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    removeFavorite(id) {\r\n      this.isLoading = true\r\n      const removeFavorite = `${process.env.USERAPI}/api/v1/favorite`\r\n      fetch(removeFavorite, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          product_id: id,\r\n        }),\r\n      })\r\n        .then(response => {\r\n          return response.json()\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n          this.getFavorite()\r\n        })\r\n    },\r\n    movieInfo() {\r\n      const path = '/movieInfo/:id'\r\n      this.$router.push(path)\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getFavorite()\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.favorite {\r\n  margin-bottom: 1000px;\r\n}\r\n// 卡片\r\n.cardTitle {\r\n  position: relative;\r\n  overflow: hidden;\r\n  border: 0;\r\n  .thumbnail {\r\n    overflow: hidden;\r\n    img {\r\n      transform: scale(1, 1);\r\n      transition: 0.5s;\r\n    }\r\n    img:hover {\r\n      transform: scale(1.1, 1.1);\r\n    }\r\n  }\r\n}\r\n\r\n// 卡片標籤\r\n.type {\r\n  z-index: 1;\r\n  font-weight: 700;\r\n  padding: 5px;\r\n  width: 120px;\r\n  left: -30px;\r\n  top: 10px;\r\n  text-align: center;\r\n  position: absolute;\r\n  background: #ee5a24;\r\n  transform: rotate(-45deg);\r\n  font-size: 18px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Favorite.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._v(\" \"),_c('Navbar'),_vm._v(\" \"),_c('section',{staticClass:\"container mt-5\"},[_c('h1',{staticClass:\"text-white\"},[_vm._v(\"收藏清單\")]),_vm._v(\" \"),_c('div',{staticClass:\"row favorite\"},_vm._l((_vm.products),function(item){return _c('div',{staticClass:\"col-lg-4 col-md-6 mb-4\"},[_c('div',{staticClass:\"card h-100 border-0 bg-dark text-light cardTitle\"},[_c('div',{staticClass:\"type\"},[_vm._v(_vm._s(item.product_type))]),_vm._v(\" \"),_c('router-link',{staticClass:\"thumbnail\",attrs:{\"to\":{\n              name: 'MovieInfo',\n              params: {\n                id: item.product_id,\n                img: item.image_url,\n                name: item.product_name,\n                type: item.product_type,\n                description: item.description,\n                price: item.price,\n                score: item.movie_score,\n                time: item.movie_runtime,\n              },\n            }}},[_c('img',{staticClass:\"card-img-top\",attrs:{\"src\":item.image_url,\"alt\":\"...\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"card-body d-flex justify-content-between align-items-center\"},[_c('h4',{staticClass:\"m-0 movieName\"},[_vm._v(_vm._s(item.product_name))])]),_vm._v(\" \"),_c('div',{staticClass:\"px-2 d-flex flex-column border-white\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm mb-2 py-2\",on:{\"click\":function($event){return _vm.removeFavorite(item.product_id)}}},[_c('i',{staticClass:\"far fa-heart px-2\"}),_vm._v(\"\\n              從我的最愛移除\\n            \")])])],1)])}),0)]),_vm._v(\" \"),_c('Footer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4846f0d0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Favorite.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4846f0d0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Favorite.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Favorite.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Favorite.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4846f0d0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Favorite.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4846f0d0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Favorite.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}