webpackJsonp([2],{Chl3:function(t,a){},Zc39:function(t,a,s){"use strict";var e=s("mvHQ"),i=s.n(e),n=s("7t+N"),o=s.n(n),c={name:"Cart",data:function(){return{isLoading:!1,totalPrice:"",carts:[]}},methods:{showCart:function(){var t=this;fetch("http://ec2-35-73-107-34.ap-northeast-1.compute.amazonaws.com:8080//api/v1/cart").then(function(t){return t.json()}).then(function(a){t.carts=a.data,t.totalPrice=a.total_price,t.isLoading=!1})},deleteCart:function(t){var a=this;this.isLoading=!0;fetch("http://ec2-35-73-107-34.ap-northeast-1.compute.amazonaws.com:8080//api/v1/cart",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:i()({product_id:t})}).then(function(t){return t.json()}).then(function(t){console.log(t),a.showCart()})},goShopping:function(){o()("#cartModal").modal("hide");this.$router.push("/payment")}},mounted:function(){this.showCart()}},r={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),s("div",{staticClass:"cart"},[s("button",{staticClass:"btn btnCart text-white",attrs:{type:"button","data-toggle":"modal","data-target":"#cartModal"},on:{click:t.showCart}},[s("i",{staticClass:"fas fa-cart-arrow-down fa-3x"}),t._v(" "),t.carts.length?s("span",{staticClass:"badge badge-pill badge-danger"},[t._v(t._s(t.carts.length))]):t._e()])]),t._v(" "),t._v("--\x3e\n  "),s("div",{staticClass:"modal fade",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("table",{staticClass:"table movieList"},[t._m(1),t._v(" "),t._l(t.carts,function(a){return s("tbody",{key:a.id},[s("tr",[s("th",{attrs:{scope:"row"}},[s("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(s){return t.deleteCart(a.product_id)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),s("td",[t._v(t._s(a.product_name))]),t._v(" "),s("td",{staticClass:"text-right"},[t._v(t._s(a.product_qty)+"/部")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n                  "+t._s(t._f("currency")(a.product_total_price))+"\n                ")])])])}),t._v(" "),s("tfoot",[s("tr",[s("td"),t._v(" "),s("td"),t._v(" "),s("td",{staticClass:"text-right"},[t._v("總金額")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.totalPrice)))])])])],2)]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            再看一下\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-outline-danger",on:{click:function(a){return a.preventDefault(),t.goShopping(a)}}},[t._v("\n            前往購物商城\n          ")])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title cartTitle",attrs:{id:"exampleModalLabel"}},[this._v("\n            已購買電影\n          ")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col"}}),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("電影名稱")]),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("購買數量")]),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("單價")])])])}]};var l=s("VU/8")(c,r,!1,function(t){s("stho")},"data-v-6317a606",null);a.a=l.exports},kPlo:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("mvHQ"),i=s.n(e),n=s("lfLh"),o=s("TVmP"),c=s("Zc39"),r={name:"MovieInfo",data:function(){return{movieInfo:{id:this.$route.params.id,img:this.$route.params.img,name:this.$route.params.name,type:this.$route.params.type,description:this.$route.params.description,price:this.$route.params.price,score:this.$route.params.score,time:this.$route.params.time},status:{addLoading:!1,favoriteLoading:!1}}},components:{Navbar:n.a,Footer:o.a,Cart:c.a},methods:{addCart:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.addLoading=!0;fetch("http://ec2-35-73-107-34.ap-northeast-1.compute.amazonaws.com:8080//api/v1/cart",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:i()({product_id:t,product_qty:s})}).then(function(t){return t.json()}).then(function(t){console.log(t),a.status.addLoading=!1})}}},l={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("Navbar"),t._v(" "),s("section",{staticClass:"container mt-5"},[s("div",{staticClass:"row text-white"},[s("div",{staticClass:"col-md-6 d-flex justify-content-center"},[s("img",{staticClass:"movieImg",attrs:{src:t.movieInfo.img,alt:""}})]),t._v(" "),s("div",{staticClass:"col-md-6 d-flex flex-column justify-content-lg-between"},[s("div",{staticClass:"movieInfo"},[s("h2",{staticClass:"d-flex align-items-center"},[t._v("\n            "+t._s(t.movieInfo.name)+"\n          ")]),t._v(" "),s("p",{staticClass:"movieText"},[t._v("\n            類型 :\n            "),s("span",{staticClass:"movieSpan category"},[t._v(t._s(t.movieInfo.type))])]),t._v(" "),s("p",{staticClass:"movieText"},[t._v("\n            評分 : "),s("span",{staticClass:"movieSpan score"},[t._v(t._s(t.movieInfo.score))])]),t._v(" "),s("p",{staticClass:"movieText"},[t._v("\n            放映時數 :\n            "),s("span",{staticClass:"movieSpan time"},[t._v(t._s(t.movieInfo.time))])]),t._v(" "),s("p",{staticClass:"description"},[t._v(t._s(t.movieInfo.description))])]),t._v(" "),s("div",[s("div",{staticClass:"d-flex flex-column align-items-end"},[s("del",{staticClass:"text-white"},[s("h5",[t._v("售價 NT "+t._s(t._f("currency")(t.movieInfo.price)))])]),t._v(" "),s("div",{staticClass:"h3 m-0 ml-auto text-danger"},[s("span",[t._v("特價 NT")]),t._v(" "),s("strong",[t._v(t._s(t._f("currency")(t.movieInfo.price))+" ")])])]),t._v(" "),s("div",{staticClass:"mobileBtn d-flex justify-content-end mt-3"},[s("button",{staticClass:"btn btn-outline-light mr-3 p-2",on:{click:function(a){return t.addCart(t.movieInfo.id)}}},[t.status.addLoading?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" "),s("i",{staticClass:"fas fa-cart-arrow-down"}),t._v(" "),s("span",{staticClass:"px-1"},[t._v("加入購物車")])])])])])])]),t._v(" "),s("Footer"),t._v(" "),s("Cart")],1)},staticRenderFns:[]};var d=s("VU/8")(r,l,!1,function(t){s("Chl3")},"data-v-73bff667",null);a.default=d.exports},stho:function(t,a){}});
//# sourceMappingURL=2.3e99b608d07d8616a0a3.js.map