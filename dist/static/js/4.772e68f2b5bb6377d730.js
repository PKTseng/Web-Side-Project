webpackJsonp([4],{"/wwj":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),o=i.n(a),n=i("lfLh"),s=i("TVmP"),r={name:"Favorite",components:{Navbar:n.a,Footer:s.a},data:function(){return{isLoading:!1,products:[],movieName:[]}},methods:{getFavorite:function(){var t=this;this.isLoading=!0;fetch("http://ec2-35-73-107-34.ap-northeast-1.compute.amazonaws.com:8080//api/v1/favorite").then(function(t){return t.json()}).then(function(e){console.log(e),t.products=e.data,t.isLoading=!1})},removeFavorite:function(t){var e=this;this.isLoading=!0;fetch("http://ec2-35-73-107-34.ap-northeast-1.compute.amazonaws.com:8080//api/v1/favorite",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:o()({product_id:t})}).then(function(t){return t.json()}).then(function(t){console.log(t),e.getFavorite()})},movieInfo:function(){this.$router.push("/movieInfo/:id")}},mounted:function(){this.getFavorite()}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("Navbar"),t._v(" "),i("section",{staticClass:"container mt-5"},[i("h1",{staticClass:"text-white"},[t._v("收藏清單")]),t._v(" "),i("div",{staticClass:"row favorite"},t._l(t.products,function(e){return i("div",{staticClass:"col-lg-4 col-md-6 mb-4"},[i("div",{staticClass:"card h-100 border-0 bg-dark text-light cardTitle"},[i("div",{staticClass:"type"},[t._v(t._s(e.product_type))]),t._v(" "),i("router-link",{staticClass:"thumbnail",attrs:{to:{name:"MovieInfo",params:{id:e.product_id,img:e.image_url,name:e.product_name,type:e.product_type,description:e.description,price:e.price,score:e.movie_score,time:e.movie_runtime}}}},[i("img",{staticClass:"card-img-top",attrs:{src:e.image_url,alt:"..."}})]),t._v(" "),i("div",{staticClass:"card-body d-flex justify-content-between align-items-center"},[i("h4",{staticClass:"m-0 movieName"},[t._v(t._s(e.product_name))])]),t._v(" "),i("div",{staticClass:"px-2 d-flex flex-column border-white"},[i("button",{staticClass:"btn btn-outline-danger btn-sm mb-2 py-2",on:{click:function(i){return t.removeFavorite(e.product_id)}}},[i("i",{staticClass:"far fa-heart px-2"}),t._v("\n              從我的最愛移除\n            ")])])],1)])}),0)]),t._v(" "),i("Footer")],1)},staticRenderFns:[]};var d=i("VU/8")(r,c,!1,function(t){i("v4hK")},"data-v-4846f0d0",null);e.default=d.exports},v4hK:function(t,e){}});
//# sourceMappingURL=4.772e68f2b5bb6377d730.js.map